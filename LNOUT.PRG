Function Lnout()
 * PROGRAM PENJUALAN BARANG
LOCAL MNOFAK,MTGL,BR,NO,MTOT:=JUMLAH:=MPOT:=0
set color to
 FOR I:=1 TO 25
     SCROLL(,,,,-1)
 NEXT
Buka2()
Sele Put
Set Relation to Kodelgn into Lgn
SELE TROUT
SET RELATION TO KODBRG INTO STK,to Faktur into Put
BKOUT('DATA NO FAKTUR PENJUALAN BARANG')
* --------- TAMPILAN LAYAR ------------------- *
DO WHILE .T.
SET COLOR TO W/N,W/N
MNOFAK:=space(8)
MTGL:=CTOD(' - - ')
@3,12 GET MNOFAK PICT '@!'

READ
IF MNOFAK=space(8)
  CLOSE ALL
  Return (nil)
ENDIF
dbseek(Mnofak)
IF !Found()
  SET COLOR TO W/B
  KOMENTAR(23,' NO FAKTUR TIDAK DITEMUKAN, GANTI NOMOR LAIN ')
  @23,0
  LOOP
ELSE
  mtgl:=tglout
  @4,12 say mTGL
  EXIT
ENDIF
ENDDO

@3,32 say Put->kodelgn
@5,7 say lgn->nama
@4,12 SAY TGLOUT

NO:=1
BR:=9
DO WHILE MNOFAK=FAKTUR .AND. .NOT. EOF()
   SET COLOR TO W/N,W/N
    @BR,2 SAY NO PICT '@E 99'
    @BR,5 SAY KODBRG PICT '@!'
    @BR,16 SAY if(kodbrg#'003       ',STK->NAMA,mobil)
    @BR,37 SAY QTT PICT '@E 9,999'
    @BR,43 SAY HARGA PICT '@E 99,999,999'
    JUMLAH:=QTT*HARGA
    @BR,53 SAY JUMLAH PICT '@E 99,999,999,999'
    MTOT+=JUMLAH
    IF BR=17
       KOMENTAR(23,' GANTI HALAMAN BARU,TEKAN SEMBARANG TOMBOL ...... ')
       @9,0 CLEAR TO 23,70
       BKOUT('DATA NO FAKTUR PENJUALAN BARANG')
       BR:=8
    ENDIF
    SET COLOR TO
    @23,0
    NO++
    BR++
    MPOT:=MUKA
    SKIP
ENDDO

SET COLOR TO W/N,W/N
@19,53 SAY MTOT PICT '@E 99,999,999,999'
@20,53 SAY MPOT PICT '@E 99,999,999,999'
@21,53 SAY MTOT-MPOT PICT '@E 99,999,999,999'
KOMENTAR(23,' TEKAN SEMBARANG TOMBOL, KEMBALI KE MENU ...... ')
CLOSE ALL
CLEAR
Return (nil)